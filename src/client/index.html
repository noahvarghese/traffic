<!DOCTYPE html>
<html>
    <head>
        <title>Traffic</title>
        <meta charset="utf-8" />
    </head>
    <body>
        <div id="root"></div>
        <script src="https://d3js.org/d3.v6.min.js"></script>
        <script src="https://d3js.org/d3-array.v2.min.js"></script>
        <script src="https://unpkg.com/axios/dist/axios.min.js"></script>
        <!-- <script src="https://d3js.org/d3-geo.v2.min.js"></script> -->
        <script type="text/javascript">
            const shpJson = "http://localhost:4000/shp";
            const osmJson = "http://localhost:4000/osm";
            const loadGeojson = async () => {
                return new Promise((resolve, reject) => {
                    axios.get(osmJson).then((res) => resolve(res.data));
                });
            };
            window.addEventListener("load", async () => {
                const svg = d3
                    .select("#root")
                    .append("svg")
                    .attr("width", 900)
                    .attr("height", 500);

                const geojsonData = await loadGeojson();
                console.log(geojsonData);

                svg.append("path").datum(geojsonData).attr("d", d3.geoPath());
                // svg.append("path").datum(geojsonData);
            });
        </script>
    </body>
</html>
